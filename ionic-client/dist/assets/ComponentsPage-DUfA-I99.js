import{d as z,a as F,r as m,z as M,o as T,e as k,f as s,B as A,g as o,h as f,i as t,t as C,j as r,y as _,m as D,n as J,F as L,A as G}from"./index-CGiz-dex.js";const H={class:"ion-padding"},K={class:"ion-padding"},W=z({__name:"ComponentsPage",setup(Q){const I=F(),y=m([]),i=m(!0),d=m(100),a=M({});function j(e){d.value=e.detail.value>9999?9999:e.detail.value,Object.keys(a).forEach(n=>a[n]=d.value)}function w(e){i.value=e.detail.checked,i.value&&v(Object.keys(a),d.value)}function B(e,n){a[n]=e.detail.value}async function $(e){await g(),e.target.complete()}async function g(){const{components:e,systems:n}=I.params,c=Array.isArray(n)?n.join("/"):n,p=Array.isArray(e)?e.join("/"):e,u=await A.get([c,p]);y.value=u,v(u,"")}function v(e,n){e.forEach(c=>{a[c]=n})}async function N(){const e=G(a);await A.post(["calc_val"],[],{body:JSON.stringify(e)})}return T(async()=>{await g()}),(e,n)=>{const c=o("ion-refresher-content"),p=o("ion-refresher"),u=o("ion-title"),R=o("ion-toggle"),h=o("ion-input"),b=o("ion-text"),V=o("ion-item"),x=o("ion-list"),E=o("ion-button"),O=o("ion-content"),P=o("ion-page");return f(),k(P,null,{default:s(()=>[t(O,null,{default:s(()=>[t(p,{slot:"fixed",onIonRefresh:n[0]||(n[0]=l=>$(l))},{default:s(()=>[t(c)]),_:1}),C("div",H,[t(u,{size:"large"},{default:s(()=>[r(_(e.$t("pages.components.title")),1)]),_:1})]),t(V,null,{default:s(()=>[t(R,{style:{width:"20%"},justify:"start",checked:i.value,onIonChange:w},null,8,["checked"]),t(h,{style:{width:"80%"},disabled:!i.value,label:"Общий объем",placeholder:"_______",type:"number",onIonInput:j},null,8,["disabled"]),t(b,{justify:"end"},{default:s(()=>[r(_(e.$t("measure.square")),1)]),_:1})]),_:1}),t(x,null,{default:s(()=>[(f(!0),D(L,null,J(y.value,(l,S)=>(f(),k(V,{key:l+S},{default:s(()=>[t(h,{disabled:i.value,onIonInput:q=>B(q,l),label:e.$t("pages.components.items.".concat(l)),type:"number",value:a[l]},null,8,["disabled","onIonInput","label","value"]),t(b,{justify:"end"},{default:s(()=>[r(_(e.$t("measure.square")),1)]),_:1})]),_:2},1024))),128))]),_:1}),C("div",K,[t(E,{expand:"full",onClick:N},{default:s(()=>[r(_(e.$t("pages.components.send")),1)]),_:1})])]),_:1})]),_:1})}}});export{W as default};
